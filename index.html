<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Map with Pins</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDqJfBaI4DnP9Zj_XNy3b997PcU3oXY4hA&callback=initMap" async defer></script>
    <style>
        #map {
            height: 500px;
            width: 100%;
        }
    </style>
</head>
<body>
    <h1>Property Locations</h1>
    <div id="map"></div>

    <script>
        // List of property addresses and their zip codes
        const addresses = [
            { address: "2114 E Burnside St Portland, Or 97214", zip: "97214" },
            { address: "5045 N Lombard St Portland, OR 97203", zip: "97203" },
            { address: "4065 N Mississippi Ave Portland, OR 97227", zip: "97227" },
            { address: "4128 N Montana Ave Portland, OR 97227", zip: "97227" },
            { address: "4980 N Vancouver Portland, OR 97217", zip: "97217" },
            { address: "5040 NE 18th Ave Portland, OR 97211", zip: "97211" },
            { address: "1705 NE 19th Ave Portland, OR 97212", zip: "97212" },
            { address: "1707 NE 19th Ave Portland, OR 97212", zip: "97212" },
            { address: "1715 NE 19th Ave Portland, OR 97212", zip: "97212" },
            { address: "1827 A NE 19th Ave Portland, OR 97212", zip: "97212" },
            { address: "1827 B NE 19th Ave Portland, OR 97212", zip: "97212" },
            { address: "915 NE 23rd Ave Portland, OR 97232", zip: "97232" },
            { address: "915 NE 23rd Ave TH1 Portland, OR 97232", zip: "97232" },
            { address: "5011 NE 27th Ave Portland, OR 97211", zip: "97211" },
            { address: "5016 NE 29th Ave Portland, OR 97211", zip: "97211" },
            { address: "502 NE 29th Ave Portland, OR 97232", zip: "97232" },
            { address: "508 NE 56th Ave Portland, OR 97213", zip: "97213" },
            { address: "512 NE 56th Ave Portland, OR 97213", zip: "97213" },
            { address: "516 NE 56th Ave Portland, OR 97213", zip: "97213" },
            { address: "520 NE 56th Ave Portland, OR 97213", zip: "97213" },
            { address: "315 NE Beech St Portland, OR 97212", zip: "97212" },
            { address: "317 NE Beech St Portland, OR 97212", zip: "97212" },
            { address: "3565 NE Broadway St Portland , OR 97213", zip: "97213" },
            { address: "3115 NE Couch St Portland OR 97232", zip: "97232" },
            { address: "3117 NE Couch St Portland OR 97232", zip: "97232" },
            { address: "533 NE Fargo St Portland, OR 97212", zip: "97212" },
            { address: "2034 NE Flanders St Portland OR 97232", zip: "97232" },
            { address: "4622 NE Garfield Ave Portland, OR 97211", zip: "97211" },
            { address: "4500 NE Garfield Ave Portland , OR 97211", zip: "97211" },
            { address: "3046 NE Glisan St, Portland, OR 97232", zip: "97232" },
            { address: "321 NE Knott St Portland, OR 97212", zip: "97212" },
            { address: "529 NW 21st Ave Portland OR 97210", zip: "97210" },
            { address: "2015 NW 21st Ave Portland, OR 97209", zip: "97209" },
            { address: "18 NW 22nd Pl. Portland, OR 97210", zip: "97210" },
            { address: "1601 NW 23rd St Portland, OR 97210", zip: "97210" },
            { address: "1605 NW 23rd St Portland, OR 97210", zip: "97210" },
            { address: "1603 NW 23rd St Portland, OR 97210", zip: "97210" },
            { address: "1607 NW 23rd St Portland, OR 97210", zip: "97210" },
            { address: "2309 NW Raleigh St Portland, OR 97210", zip: "97210" },
            { address: "2311 NW Raleigh St Portland, OR 97210", zip: "97210" },
            { address: "2313 NW Raleigh St Portland, OR 97210", zip: "97210" },
            { address: "2315 NW Raleigh St Portland, OR 97210", zip: "97210" },
            { address: "1225 NW 25th Ave Portland, OR 97210", zip: "97210" },
            { address: "2104 NW Everett St Portland, OR 97210", zip: "97210" },
            { address: "2249 NW Glisan St Portland, OR 97210", zip: "97210" },
            { address: "2312 NW Kearney ST Portland OR 97210", zip: "97210" },
            { address: "6626 NW Thompson Rd Portland, OR 97229", zip: "97229" },
            { address: "2515 NW Upshur St Portland, OR 97210", zip: "97210" },
            { address: "3511 S Corbett Apt 1 Portland, OR 97239", zip: "97239" },
            { address: "3511 S Corbett Apt 2 Portland, OR 97239", zip: "97239" },
            { address: "2828 S Water Ave Portland, OR 97201", zip: "97201" },
            { address: "3029 S Water Ave Portland, OR 97201", zip: "97201" },
            { address: "2008 SE 11th Ave Apt 1 Portland, OR 97210", zip: "97210" },
            { address: "1032 SE 12th Ave. Portland, OR 97214", zip: "97214" },
            { address: "1428 SE 19th Ave Portland, OR 97214", zip: "97214" },
            { address: "3324 SE 24th Ave Portland, OR 97202", zip: "97202" },
            { address: "917 SE 25th Ave Portland, OR 97214", zip: "97214" },
            { address: "2005 SE 50th Ave Portland, OR 97215", zip: "97215" },
            { address: "1030 SE Sherman St Portland, OR 97214", zip: "97214" }
            // Add more addresses if needed
        ];

        // Function to return the correct icon color based on zip code
        function getIconByZip(zip) {
            switch (zip) {
                case '97214':
                    return 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png'; // Blue for zip code 97214
                case '97203':
                    return 'http://maps.google.com/mapfiles/ms/icons/green-dot.png'; // Green for zip code 97203
                case '97227':
                    return 'http://maps.google.com/mapfiles/ms/icons/red-dot.png'; // Red for zip code 97227
                case '97217':
                    return 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png'; // Yellow for zip code 97217
                case '97211':
                    return 'http://maps.google.com/mapfiles/ms/icons/orange-dot.png'; // Orange for zip code 97211
                case '97212':
                    return 'http://maps.google.com/mapfiles/ms/icons/purple-dot.png'; // Purple for zip code 97212
                case '97232':
                    return 'http://maps.google.com/mapfiles/ms/icons/pink-dot.png'; // Pink for zip code 97232
                case '97210':
                    return 'http://maps.google.com/mapfiles/ms/icons/cyan-dot.png'; // Cyan for zip code 97210
                case '97213':
                    return 'http://maps.google.com/mapfiles/ms/icons/green-dot.png'; // Green for zip code 97213
                case '97229':
                    return 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png'; // Yellow for zip code 97229
                case '97239':
                    return 'http://maps.google.com/mapfiles/ms/icons/red-dot.png'; // Red for zip code 97239
                case '97201':
                    return 'http://maps.google.com/mapfiles/ms/icons/purple-dot.png'; // Purple for zip code 97201
                case '97209':
                    return 'http://maps.google.com/mapfiles/ms/icons/pink-dot.png'; // Pink for zip code 97209
                case '97215':
                    return 'http://maps.google.com/mapfiles/ms/icons/orange-dot.png'; // Orange for zip code 97215
                default:
                    return 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png'; // Default to blue
            }
        }

        let map;
        let geocoder;

        function initMap() {
            // Initialize the map centered on Portland
            map = new google.maps.Map(document.getElementById('map'), {
                zoom: 12,
                center: { lat: 45.5152, lng: -122.6784 }, // Portland center coordinates
            });

            geocoder = new google.maps.Geocoder();

            // Loop through the addresses and place markers with custom icons based on zip code
            addresses.forEach(location => {
                geocodeAddress(location.address, location.zip);
            });
        }

        // Function to geocode an address and place a marker
        function geocodeAddress(address, zip) {
            geocoder.geocode({ 'address': address }, function (results, status) {
                if (status === 'OK') {
                    const marker = new google.maps.Marker({
                        map: map,
                        position: results[0].geometry.location,
                        icon: getIconByZip(zip), // Set custom icon based on zip code
                        title: address,
                    });

                    const infoWindow = new google.maps.InfoWindow({
                        content: `<h3>${address}</h3>`
                    });

                    marker.addListener('click', function () {
                        infoWindow.open(map, marker);
                    });
                } else {
                    console.error('Geocode was not successful for the following reason: ' + status);
                }
            });
        }
    </script>
</body>
</html>
